include "../common-designer.conf"

authentication:  {
  method: "BasicAuth"
  usersFile: "designer/server/src/test/resources/config/simple/basicauth-users.conf"
}

baseModelConfig {
  classPath: [
    "engine/flink/management/dev-model/target/scala-"${scala.major.version}"/devModel.jar",
    "engine/flink/executor/target/scala-"${scala.major.version}"/flinkExecutor.jar"
  ]
  checkpointConfig {
    checkpointInterval: 10s
  }
  timeout: 30s
  asyncExecutionConfig {
    bufferSize: 200
    workers: 8
  }
  //      kafka = {
  //        kafkaProperties {
  //          "bootstrap.servers": "notexisting.org:9092"
  //        }
  //      }
  withMockedConfluent: true
  # We disable all component providers - they are not needed for tests, we add them accidentally because we want to make
  # NussknackerApp running from Intellij Idea, see build.sbt comment
  components {
    kafka.disabled: true
    requestResponse.disabled: true
  }
}

scenarioTypes {
  streaming {
    deploymentConfig {
      restUrl: "http://localhost:8081"
      jobManagerTimeout: 1m
      type: "flinkStreaming"
    }
    modelConfig: ${baseModelConfig}
    category: "Category1"
  }
}
