---
sidebar_position: 4
---

# Request-Response sources and sinks

## Http request as input and output to Nussknacker scenarios

### Prerequisites

To fully understand how Nussknacker works in Request-Response mode, it's best to read the following first:
* [Http session](https://developer.mozilla.org/en-US/docs/Web/HTTP/Session)

### Concepts

This section discusses HTTP based source and sink components.

Nussknacker can process single HTTP request as a scenario input. 
In this case source and input are integrally connected meaning that the source component defines a response for incoming request for exact HTTP session.

## Request-Response schema

Each scenario needs to define two schemas:
- Input schema
- Output schema

Nussknacker uses those schema to detect how the request and response should look like.

![RR schema](img/rrProperties.png "RR properties")

## Request-Response source

Nussknacker will read HTTP Post request payload and serialize it to event based on [Input schema](#request-response-schema)

Thanks to that Nussknacker knows what data to expect in the request, so it will hint field names and will perform additional validations on SpEL expressions involving data from the selected topic. 

![RR source](img/rrSource.png "RR source")

## Request-Response sink

The `response` sink configuration form will show a list of fields defined in [Input schema](#request-response-schema). 

![RR sink](img/rrSink.png "Kafka sink")

If you prefer to define the whole response as one expression containing value of the HTTP response instead of filling separate autogenerated fields, you can do that by switching `Raw editor` to `true`.
